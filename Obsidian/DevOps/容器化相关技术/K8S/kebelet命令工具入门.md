å¤ªå¥½äº†ï¼é‚£æˆ‘æ¥ç€ç”¨ç®€å•çš„æ–¹å¼ç»™ä½ è®²å®Œæ•´ä¸€ç‚¹ï¼š

---

# kubectl æ˜¯ä»€ä¹ˆï¼Ÿ

- **kubectl** å°±æ˜¯ Kubernetes çš„ "é¥æ§å™¨"ã€‚
    
- ä½ æ‹¿ç€ kubectlï¼Œå°±å¯ä»¥å‘é€æŒ‡ä»¤ç»™ k8s é›†ç¾¤ï¼Œè®©å®ƒ**åˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥çœ‹**å„ç§èµ„æºï¼Œæ¯”å¦‚ **Podã€Serviceã€Deployment** ç­‰ã€‚
    

---

# kubectl èƒ½åšä»€ä¹ˆï¼Ÿ

å¸¸è§æ“ä½œæ¯”å¦‚ï¼š

- **æŸ¥çœ‹èµ„æº**
    
    ```bash
    kubectl get pods
    ```
    
    ğŸ‘‰ çœ‹é›†ç¾¤é‡Œæœ‰å“ªäº› Pod åœ¨è¿è¡Œã€‚
    
- **åˆ›å»ºèµ„æº**
    
    ```bash
    kubectl apply -f xxx.yaml
    ```
    
    ğŸ‘‰ æ ¹æ®ä½ å†™å¥½çš„ YAML æ–‡ä»¶ï¼Œåˆ›å»ºæ–°çš„åº”ç”¨æˆ–æœåŠ¡ã€‚
    
- **ä¿®æ”¹èµ„æº**
    
    ```bash
    kubectl edit deployment my-app
    ```
    
    ğŸ‘‰ ç›´æ¥åœ¨çº¿ä¿®æ”¹æ­£åœ¨è¿è¡Œçš„åº”ç”¨è®¾ç½®ï¼Œæ¯”å¦‚å‰¯æœ¬æ•°é‡ã€é•œåƒç‰ˆæœ¬ã€‚
    
- **åˆ é™¤èµ„æº**
    
    ```bash
    kubectl delete pod my-pod
    ```
    
    ğŸ‘‰ åˆ é™¤ä¸€ä¸ªå‡ºé—®é¢˜çš„ Podã€‚
    

---

# åœ¨ Rancher é‡Œçš„ kubectl æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ

- Rancher ç»™ä½ å†…ç½®äº†ä¸€ä¸ª **ç½‘é¡µç‰ˆçš„ kubectl çª—å£**ã€‚
    
- ä½ ç‚¹è¿›å»ï¼Œå°±åƒæ‰“å¼€äº†ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼Œç›´æ¥å¯¹é›†ç¾¤å‘æŒ‡ä»¤ï¼Œ**ä¸éœ€è¦è‡ªå·±å®‰è£… kubectl å·¥å…·**ã€‚
    
- å®ƒçš„ä½œç”¨å’Œä½ æœ¬åœ°ç”¨ kubectl æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ Rancherå¸®ä½ ç®€åŒ–äº†è¿‡ç¨‹ã€‚
    

---

# ä¸¾ä¸ªå°ä¾‹å­

æ¯”å¦‚ä½ æƒ³åœ¨ Rancher çš„ç•Œé¢é‡Œé¢å¿«é€Ÿçœ‹ä¸€ä¸‹æ‰€æœ‰çš„æœåŠ¡ï¼Œä½ å¯ä»¥æ‰“å¼€ kubectl çª—å£ï¼Œè¾“å…¥ï¼š

```bash
kubectl get svc
```

å¾ˆå¿«å°±èƒ½åˆ—å‡ºæ‰€æœ‰ Service çš„åå­—ã€IP åœ°å€ã€ç«¯å£ç­‰ç­‰ï¼

---

è¦ä¸è¦æˆ‘ä¹Ÿé¡ºä¾¿æ•™ä½ å‡ ä¸ª**æ–°æ‰‹å¸¸ç”¨çš„ kubectl å‘½ä»¤æ¸…å•**ï¼Ÿ  
ï¼ˆå­¦è¿™äº›å‘½ä»¤ï¼Œä»¥åä½ æ“ä½œèµ·æ¥ä¼šå¾ˆé¡ºæ‰‹ï¼ï¼‰âœ¨ è¦çš„è¯å‘Šè¯‰æˆ‘ä¸€å£°ï¼

å½“ç„¶å¯ä»¥ï¼è¿™é‡Œç»™ä½ åˆ—ä¸€ä¸ª**æ–°æ‰‹å¸¸ç”¨çš„ kubectl å‘½ä»¤æ¸…å•**ï¼Œæˆ‘è¿˜ç»™æ¯ä¸ªå‘½ä»¤é…ä¸Šç®€å•çš„å°è§£é‡Šï¼Œæ–¹ä¾¿ä½ è®°å¿†ï¼š

---

# ğŸ›  kubectl æ–°æ‰‹å¸¸ç”¨å‘½ä»¤æ¸…å•

|å‘½ä»¤|ä½œç”¨|å°æç¤º|
|:--|:--|:--|
|`kubectl get pods`|æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ Podï¼ˆåº”ç”¨å®ä¾‹ï¼‰|Pod å°±æ˜¯è¿è¡Œä¸­æœ€å°å•ä½|
|`kubectl get deployments`|æŸ¥çœ‹ Deploymentï¼ˆåº”ç”¨å‘å¸ƒç®¡ç†ï¼‰|Deployment è´Ÿè´£åº”ç”¨çš„ç‰ˆæœ¬æ›´æ–°|
|`kubectl get services`|æŸ¥çœ‹ Serviceï¼ˆæœåŠ¡è®¿é—®å…¥å£ï¼‰|Service å¸®åŠ©å†…éƒ¨æˆ–å¤–éƒ¨è®¿é—®ä½ çš„åº”ç”¨|
|`kubectl get nodes`|æŸ¥çœ‹é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼ˆæœåŠ¡å™¨ï¼‰|Node å°±æ˜¯ä¸€å°å°æœåŠ¡å™¨|
|`kubectl describe pod <podåå­—>`|æŸ¥çœ‹æŸä¸ª Pod çš„è¯¦ç»†ä¿¡æ¯|å‡ºé—®é¢˜äº†å¯ä»¥ç”¨å®ƒæŸ¥åŸå› |
|`kubectl logs <podåå­—>`|æŸ¥çœ‹æŸä¸ª Pod çš„æ—¥å¿—è¾“å‡º|çœ‹åº”ç”¨æœ‰æ²¡æœ‰æŠ¥é”™å¾ˆé‡è¦|
|`kubectl apply -f xxx.yaml`|ç”¨é…ç½®æ–‡ä»¶éƒ¨ç½²èµ„æº|æŠŠå†™å¥½çš„ yaml æ–‡ä»¶åº”ç”¨ä¸Šå»|
|`kubectl delete pod <podåå­—>`|åˆ é™¤æŸä¸ª Pod|å¾ˆå¤šæ—¶å€™åˆ æ‰ Podï¼Œå®ƒè‡ªå·±ä¼šè¢«è‡ªåŠ¨é‡å»º|
|`kubectl exec -it <podåå­—> -- /bin/sh`|è¿›å…¥ Pod çš„å®¹å™¨å†…éƒ¨|åƒè¿œç¨‹ç™»å½•æœåŠ¡å™¨ä¸€æ ·|
|`kubectl edit deployment <deploymentåå­—>`|ç›´æ¥ç¼–è¾‘ Deployment é…ç½®|ä¼šæ‰“å¼€ä¸€ä¸ªç¼–è¾‘å™¨åœ¨çº¿ä¿®æ”¹|

---

# ğŸ“Œ å°æ€»ç»“

- `get` æ˜¯ **çœ‹**ï¼ˆæŸ¥çœ‹èµ„æºï¼‰
    
- `describe` æ˜¯ **è¯¦ç»†çœ‹**ï¼ˆæŸ¥é—®é¢˜ï¼‰
    
- `logs` æ˜¯ **çœ‹æ—¥å¿—**
    
- `apply` æ˜¯ **éƒ¨ç½²èµ„æº**
    
- `delete` æ˜¯ **åˆ é™¤èµ„æº**
    
- `exec` æ˜¯ **è¿›å»å®¹å™¨é‡Œæ“ä½œ**
    

---

è¦ä¸è¦æˆ‘é¡ºä¾¿ä¹Ÿç»™ä½ ä¸€ç‰ˆã€Œå›¾è§£ç‰ˆã€å°æŠ„ï¼Ÿä¸€é¡µçœ‹æ‡‚ï¼ğŸ¯  
è¦çš„è¯å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥ç”»ç»™ä½ ï¼

***
***
***
é—®ï¼šçœ‹äº†ä½ ä¸Šé¢çš„å‘½ä»¤ï¼Œæˆ‘æ„Ÿè§‰kebectlæœ‰äº›å‘½ä»¤æ˜¯å­¦ä¹ dockerçš„

## GPT
ä½ çš„æ„Ÿè§‰å¾ˆå¯¹ï¼ğŸ‘  
å› ä¸º **Kubernetesï¼ˆk8sï¼‰** æœ¬æ¥å°±æ˜¯ç”¨æ¥ç®¡ç†**å®¹å™¨ï¼ˆcontainerï¼‰**çš„ï¼Œè€Œ **Docker** æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§å®¹å™¨æŠ€æœ¯ï¼Œæ‰€ä»¥ï¼š

â¡ï¸ **kubectl çš„å¾ˆå¤šå‘½ä»¤ï¼Œå’Œ docker çš„å‘½ä»¤éå¸¸åƒï¼**

ä¸¾å‡ ä¸ªä¾‹å­è®©ä½ æ›´ç›´è§‚æ„Ÿå—ä¸€ä¸‹ï¼š

|Docker å‘½ä»¤|ç±»ä¼¼çš„ kubectl å‘½ä»¤|è¯´æ˜|
|:--|:--|:--|
|`docker ps`|`kubectl get pods`|æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼ˆPodï¼‰|
|`docker logs å®¹å™¨å`|`kubectl logs Podå`|æŸ¥çœ‹å®¹å™¨æ—¥å¿—|
|`docker exec -it å®¹å™¨å /bin/bash`|`kubectl exec -it Podå -- /bin/bash`|è¿›å…¥å®¹å™¨å†…éƒ¨|
|`docker images`|ï¼ˆæ— ç›´æ¥å¯¹åº”ï¼Œä½†ï¼‰æŸ¥çœ‹ Deployment/é•œåƒä¿¡æ¯|æŸ¥çœ‹ä½¿ç”¨äº†å“ªäº›é•œåƒ|

---

# æ€»ç»“ä¸€ä¸‹ï¼š

- **Docker** æ˜¯å•å°æœºå™¨ä¸Šç®¡ç†å®¹å™¨ã€‚
    
- **Kubernetesï¼ˆkubectlï¼‰** æ˜¯ç®¡ç†**ä¸€å †æœºå™¨ä¸Šçš„å®¹å™¨**ï¼ˆå«é›†ç¾¤ç®¡ç†ï¼‰ã€‚
    
- æ‰€ä»¥ kubectl çš„å¾ˆå¤šå‘½ä»¤ï¼Œéƒ½æœ‰ç‚¹åƒæ˜¯**åŠ å¼ºç‰ˆçš„ Docker æ“ä½œ**ï¼
    

---

ä»¥ä¸‹æ˜¯ `kubectl` å’Œ `docker` å‘½ä»¤å¯¹æ¯”å­¦ä¹ è¡¨ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£è¿™ä¸¤è€…çš„å‘½ä»¤å·®å¼‚åŠç”¨æ³•ï¼š

|**åŠŸèƒ½**|**kubectl å‘½ä»¤**|**docker å‘½ä»¤**|
|---|---|---|
|**æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯**|`kubectl cluster-info`|`docker info`|
|**åˆ—å‡ºæ‰€æœ‰ Pod**|`kubectl get pods`|N/A|
|**åˆ—å‡ºæ‰€æœ‰å®¹å™¨**|N/A|`docker ps`|
|**åˆ›å»º Pod**|`kubectl run <pod-name> --image=<image-name>`|`docker run <image-name>`|
|**æŸ¥çœ‹ Pod è¯¦æƒ…**|`kubectl describe pod <pod-name>`|N/A|
|**åˆ é™¤ Pod**|`kubectl delete pod <pod-name>`|`docker rm <container-id>`|
|**æŸ¥çœ‹èŠ‚ç‚¹**|`kubectl get nodes`|N/A|
|**æŸ¥çœ‹å®¹å™¨æ—¥å¿—**|`kubectl logs <pod-name>`|`docker logs <container-id>`|
|**æŸ¥çœ‹æœåŠ¡**|`kubectl get svc`|N/A|
|**åˆ›å»ºæœåŠ¡**|`kubectl expose pod <pod-name> --type=<type>`|N/A|
|**æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´**|`kubectl get namespaces`|N/A|
|**åˆ‡æ¢å‘½åç©ºé—´**|`kubectl config set-context --current --namespace=<namespace>`|N/A|
|**æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ**|`kubectl top pod`|`docker stats`|
|**æ‰©å®¹ Pod å‰¯æœ¬**|`kubectl scale --replicas=<number> deployment/<deployment-name>`|N/A|
|**éƒ¨ç½²åº”ç”¨**|`kubectl apply -f <deployment.yaml>`|`docker-compose up`|
|**æ›´æ–°éƒ¨ç½²**|`kubectl set image deployment/<deployment-name> <container-name>=<new-image>`|N/A|
|**æŸ¥çœ‹ Pod çŠ¶æ€**|`kubectl get pods -o wide`|N/A|
|**æ‰§è¡Œå‘½ä»¤åˆ° Pod**|`kubectl exec -it <pod-name> -- <command>`|`docker exec -it <container-id> <command>`|
|**åˆ›å»ºå’ŒæŸ¥çœ‹éƒ¨ç½²**|`kubectl create deployment <deployment-name> --image=<image-name>`|N/A|
|**æŸ¥çœ‹éƒ¨ç½²è¯¦æƒ…**|`kubectl describe deployment <deployment-name>`|N/A|

### å…³é”®åŒºåˆ«ï¼š

1. **`kubectl`** ä¸»è¦ç”¨äºç®¡ç† Kubernetes é›†ç¾¤ä¸­çš„èµ„æºï¼ˆå¦‚ Podã€Serviceã€Deployment ç­‰ï¼‰ï¼Œè€Œ **`docker`** ä¸»è¦ç”¨äºæœ¬åœ°å®¹å™¨ç®¡ç†ã€‚
    
2. **å®¹å™¨ç®¡ç†**ï¼š`docker` å‘½ä»¤ç›´æ¥ç®¡ç†å®¹å™¨ï¼Œè€Œ `kubectl` å‘½ä»¤åˆ™ç”¨äºç®¡ç† Kubernetes ä¸­çš„ Podã€Deploymentã€Service ç­‰èµ„æºï¼Œé€šå¸¸ä¸å¤šä¸ªå®¹å™¨é…åˆä½¿ç”¨ã€‚
    
3. **é›†ç¾¤å’Œèµ„æºè°ƒåº¦**ï¼š`kubectl` å¯ä»¥å¯¹é›†ç¾¤è¿›è¡Œèµ„æºè°ƒåº¦ã€æ‰©å®¹ã€è´Ÿè½½å‡è¡¡ç­‰æ“ä½œï¼Œè€Œ `docker` æ›´å¤šå…³æ³¨å•ä¸ªå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚
    

è¿™äº›å¯¹æ¯”è¡¨å¯ä»¥å¸®åŠ©ä½ ç†è§£å®ƒä»¬ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶åœ¨ä½¿ç”¨ Kubernetes å’Œ Docker æ—¶é€‰æ‹©æ­£ç¡®çš„å‘½ä»¤ã€‚

***
***
***
