对付遗留代码是件苦差事，这一点没什么好否认的。尽管各自情况不同，但有衡量工作价值 的方式是相同的(不管你是不是程序员):算算你能从中得到什么。对某些人来说也许是薪水---这没什么不好意思的，毕竟人人都得生活。但我认为肯定还有其他什么原因让你成为一个程序员的。

有些幸运的读者也许是因为兴趣才加入这行业的。你怀着对计算机的迷恋开始编程，前面的路充满无尽的可能，你可以通过编程实现各种各样很酷的东西。你学习并掌握很多知识，于是你 开始想：“这似乎挺有意思的。如果我能够在这上面做得很好，或许我能把它当成一职业呢!”

当然，并非每个人都是走的这条路，但就算不是这样的，也多多少少跟编程的乐趣有点关系。 如果你能够体会，并且你的同事们也能体会这种乐趣，那么所面对的是什么系统有什么类系呢?  即使是遗留系统也能在其中做出漂亮的东西出来。否则难道你想整天垂头丧气不成?那可没啥意 思。我们都不应该那样。

对付遗留系统的人们常常希望他们能去做全新的系统。从头开始构建一个系统固然有意思， 但坦白地说，全新的系统也有它们自己的问题。比如，我就不止一次看到如下场景： 一个既有系统，随着时间的推移，逐渐变得混乱，难以改动。每次修改都得花上很大的精力和时间，于是人们感到沮丧不堪。于是他们将队伍里面最好的程序员(有时候这些家伙才是问题的罪魁祸首!) 放到一个新团队中，并交给他们任务：创建一个替代系统，要有更好的架构。 一开始事情都还算顺利。他们知道旧的架构问题在哪里，于是花了一些时间做出一个新的设计。在他们做这些事情 的同时，其他开发者仍然奋战在老系统上。由于老系统仍在运行，因此他们会收到一些修正bug的请求，间或还会需要添加新特性。业务人员冷静地审视这些新特性的请求，并决定是否要将它们加入老系统中，或者客户能否等到新系统出来(提供这一特性)。由于许多时候客户都是等不 及的，所以不仅新系统要添加这一特性，老系统同样也要。这就意味着新系统开发团队面对的是双重职责：他们要替换一个仍处于不断变化中的旧系统。几个月过去了，事实越来越明显：他们 没法替换你正在维护的这个旧系统。压力还在增大。他们夜以继日地工作，甚至牺牲周末。然而 许多时候结果却是，公司发觉你在旧系统上做的工作才是最重要的，关于公司命脉和未来存亡。

看来新系统开发也不是那么好干的差事，不是么?

要想在对付遗留代码时保持积极向上的心态，关键是要找到动力。尽管有很多程序员的生活 圈子都较小，但工作时有一个良好的环境，有你所尊敬的并且知道如何快乐工作的人做同事仍然是一个非常大的诱惑。比如，我的几个最好的朋友就是在工作中认识的。至今，当我在编程中遇到一些有趣的问题或学到一些东西时还会跟他们交流。

另一个有用的做法就是跟社区中的广大程序员接触。在如今的网络时代，要想跟其他程序员接触并从他们那儿学习或分享知识真是前所未有的容易。你可以订阅邮件列表、参加讨论会、利 用网络上可获取的一切资源、分享经验和技术，等等，并让自己时刻处在软件开发的最前沿。

但就算项目组里面的所有成员都关心项目且希望能把事情做好，仍还是会有沮丧的情况发生。比如有时候人们会觉得面对的代码基太大了，以致于他们觉得就算在上面做上十年也改进不 了百分之十。但这样就有理由沮丧并放弃了吗?不。我就曾见过有的团队面对百万行遗留代码仍 然面不改色，每天迎接挑战并将其作为改进系统的契机乃至从中获得乐趣。我同样也见过一些团 队，有着相对好得多的代码基却仍然士气低迷。所以说态度很重要。

工作之余，自己练一练测试驱动开发，让自己仅仅为了兴趣而编一点程序。感受一下你自己 做的小项目跟实际工作中的大项目之间的差异。于是很可能，当你在工作中将项目置入快速测试 用具之下时，就会有与自己做小项目时同样的感觉了。

如果你的团队士气低迷，而且是由于代码质量太低而低迷的，那么有个办法可以一试——从项目中找出一组最糟糕的类，将它们置入测试之下。 一旦你们作为一个团队共同克服了一个最困 难的问题，那么就会感觉一切都不过如此了。这种情况我经历得太多了。

一旦掌控住了代码基，你们便会开始在里面不断制造出一块块良好的代码绿洲。在其中工作便成了快乐的体验。