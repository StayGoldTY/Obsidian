对于那些在开发时并没有同步编写单元测试的系统，我们常常得先解依赖而后才能够将某个 类放入测试用具中去，然而这并非是进行解依赖的唯一原因。

有时我们想要测试的类会对其他类 产生一些影响，而我们的测试需要获知这些影响。面对这类情况，有时我们可以利用被影响的类的接口来感知到这些影响，而其他时候(如果没有适当解依赖的话)则不能。

总而言之，唯一的 办法就是通过伪装成被影响的类来直接感知到它所受到的影响。

通常，如果我们想要将测试安置到位，有两个理由去进行解依赖：感知和分离。

(1)感知：当我们无法访问到代码计算出的值时，就需要通过解依赖来“感知”这些值。

(2)分离：当我们无法将哪怕一小块代码放入到测试用具中去运行时，就需要通过解依赖将
 这块代码“分离”出来。
 > 我的理解---
 > **感知**是指在测试中，我们需要对某些内部状态或计算结果进行检查。然而，如果这些状态或者计算值被封装得过于紧密，导致测试代码无法访问，那么就需要解依赖，以使这些状态可以被“感知”到。通过解依赖，可以将一些内部数据暴露给测试，使得我们能够验证计算是否符合预期。
 > 举个例子，假设一个类中的某个方法计算了某个值，但这个值是私有的而且不提供任何途径供外部访问。这时候就无法在测试中验证它的正确性。通过解依赖，我们可以添加getter方法或者使用依赖注入等方式，使得测试能够访问这些数据，进行验证。
 
 
 > **分离**是指当一段代码过于依赖于上下文环境，或者依赖其他复杂的对象、系统资源（例如文件系统、数据库等）时，我们无法直接把它单独拿出来进行测试。这种情况下，我们需要通过解依赖将这段代码从它的上下文环境中分离出来，使其可以在一个独立、受控的测试环境中运行。
 > 
 比如，一个函数中依赖了外部API或者数据库，那么在测试时我们希望将这些依赖替换 为模拟对象（Mock），以便在测试中能控制它们的行为，减少不确定性。通过解依赖，我们可以使代码更容易地进行单元测试，不需要真实地依赖外部系统，从而提高测试的稳定性和独立性。
 > 