本章介绍了一系列的解依赖技术。当然这个列表并不全面，它包含了我与不同团队共事的过程中，用于将类解依赖以使它们能被置于测试之下的技术。从技术上讲，这些是重构技术，因为它们全都保持了代码的行为。但它们与业界目前所给出的那些重构技术不同，这些技术是要在没有测试的情况下使用的，其目的是为了将测试安置到位。在大多数情况下，如果你小心按步骤行事，那么出错的可能性是很小的。但这并不就意味着这些技术是完全安全的；错误仍可能发生， 因此你应该小心行事。在运用本章描述的重构技术之前，请先阅读第23章。该章所介绍的一些技 巧有助于你安全地运用这儿所讲的技术，从而将测试安置到位；而一旦测试到位了，你也就可以 更放心地去做一些更为侵入性的改动了。

当然，这些技术并不能立竿见影地让设计变得更好。实际上，如果你有良好的设计感，这里的某些技术甚至可能会令你退缩。但它们可以助你将方法、类以及类簇纳入测试，从而让你的系统更具可维护性。 一旦代码被置入测试的保护之下，便可以使用测试支持的重构来改善你的设计了。

***
**本章提到的一 些重构技术在Marin   Fowler的著作《重构：改善既有代码的设计》 (Addison-Wesley,1999) 中也有描述。只是本章对它们的描述在步骤上有所不同，我将之适当 剪裁以使得它们能够被安全地用在没有测试的情况下。
***






 





















