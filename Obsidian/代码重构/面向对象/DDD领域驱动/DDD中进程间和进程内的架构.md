在使用领域驱动设计（DDD）进行架构设计时，的确可以从进程内和进程间的角度来区分不同的架构模式。针对施工图审查系统的设计，我们可以分别从进程内架构和进程间架构进行深入讲解。

### 1. 进程内架构（例如：DDD 分层架构）

在施工图审查系统的进程内架构中，我们通常会使用 DDD 的分层架构来组织系统的代码结构。这里，我们可以采用四层架构或六层架构，根据具体的复杂度来选择。

#### 四层架构

四层架构通常包括以下几个层级：

- **表示层（Presentation Layer）**：负责用户接口（UI）和用户请求的处理。在施工图审查系统中，表示层负责接收用户上传的图纸，展示审查结果和处理进度。
- **应用层（Application Layer）**：定义了业务用例的执行，协调各个领域对象的操作。在施工图审查系统中，应用层可以协调图纸的上传、存储、审查流程的推进等。
- **领域层（Domain Layer）**：包含系统的业务逻辑，核心领域模型。在施工图审查系统中，领域层包含图纸审核的业务规则，如审核流程、审查状态变更、审核人员分配等。
- **基础设施层（Infrastructure Layer）**：负责技术实现，比如数据库操作、消息队列等。在施工图审查系统中，基础设施层可以负责与数据库的交互、文件存储和消息推送等。

#### 六层架构

六层架构进一步细化，将应用层和领域层拆分成更小的部分：

- **表示层**
- **应用层**
- **领域层**
    - **领域服务层**：处理复杂的业务逻辑和领域模型的操作。
    - **聚合根层**：在领域层内，聚合根代表了系统中的业务实体，它是对外暴露接口的核心。
- **基础设施层**
    - **持久化层**：专注于与数据库或其他持久化存储的交互。

在施工图审查系统中，领域层的设计可以特别关注审查流程中的聚合根，例如审查单（AuditRequest）作为一个聚合根，内部包含审核人员、图纸文件、审查状态等多个业务实体。

### 2. 进程间架构（例如：微服务设计、中台设计）

当系统规模增大时，通常需要采用进程间架构来解耦不同的服务模块。例如，微服务架构和中台架构在进程间的设计中尤为重要。

#### 微服务架构

施工图审查系统如果采用微服务架构，可以将不同的功能模块拆分成独立的服务，每个微服务负责一个特定的领域或功能：

- **图纸上传服务**：负责用户上传施工图文件，并进行初步的文件存储。
- **审查流程服务**：处理图纸的审查流程，包括审查状态的变更、审核人分配等。
- **审核结果服务**：保存审查结果，包含审核意见、修改建议等。
- **通知服务**：在审查流程中，当某个步骤完成时，通知相关人员。

微服务架构中的每个服务是独立部署的，服务之间通过API或消息总线进行通信。每个微服务可能会有自己的数据库（数据库分离），以便实现高内聚和低耦合。

#### 中台设计

中台架构适用于需要集中处理某些共性业务的场景。在施工图审查系统中，可以设计一个**图纸审查中台**，集中管理一些通用功能，如：

- **审查规则管理**：集中存储所有的审查规则和标准，供各个业务模块共享。
- **数据中台**：提供图纸审查的历史数据、分析结果等，为不同业务模块提供数据支持。

在中台架构中，前台和后台通过 API 进行交互，前台关注用户的业务流程，后台提供中台服务和资源。

### 总结

- **进程内架构**：使用 DDD 的分层架构，重点在于领域模型的设计与业务逻辑的封装。施工图审查系统中的领域层就是审查业务流程、审核规则等核心逻辑的实现。
- **进程间架构**：通过微服务架构或中台架构来划分不同模块，服务之间通过 API 或消息总线进行通信。这种架构有助于系统的扩展性和高可用性。

进程内和进程间架构相辅相成，能够根据系统的规模和需求，提供更清晰的服务拆分和更高效的业务处理流程。